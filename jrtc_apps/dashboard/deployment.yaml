# yaml-language-server: $schema=../../tools/schemas/jrtc-ctl..schema.json

# Copyright (c) Microsoft Corporation.
# Licensed under the MIT license.

name: dashboard
    
decoder:
  - type: decodergrpc
    port: 30501
    #port: 20789
      
app:
  - name: dashboard
    path: ${JRTC_APPS}/dashboard/dashboard.py
    type: python
    port: 30500
    modules:
      - ${JBPF_CODELETS}/mac/mac_sched_bsr_stats.py
      - ${JBPF_CODELETS}/mac/mac_sched_crc_stats.py
      - ${JBPF_CODELETS}/mac/mac_sched_phr_stats.py

      - ${JBPF_CODELETS}/pdcp/pdcp_dl_north_stats.py
      - ${JBPF_CODELETS}/pdcp/pdcp_dl_south_stats.py
      - ${JBPF_CODELETS}/pdcp/pdcp_ul_stats.py

      - ${JBPF_CODELETS}/rrc/rrc_ue_add.py
      - ${JBPF_CODELETS}/rrc/rrc_ue_procedure.py
      - ${JBPF_CODELETS}/rrc/rrc_ue_remove.py
      - ${JBPF_CODELETS}/rrc/rrc_ue_update_context.py
      - ${JBPF_CODELETS}/rrc/rrc_ue_update_id.py

      - ${JBPF_CODELETS}/fapi_dl_conf/fapi_gnb_dl_config_stats.py
      - ${JBPF_CODELETS}/fapi_ul_conf/fapi_gnb_ul_config_stats.py
      - ${JBPF_CODELETS}/fapi_ul_crc/fapi_gnb_crc_stats.py
      - ${JBPF_CODELETS}/fapi_rach/fapi_gnb_rach_stats.py

      - ${JBPF_CODELETS}/perf/jbpf_stats_report.py

      - ${JBPF_CODELETS}/xran_packets/xran_packet_info.py


jbpf:
  device:
    - id: 1
      port: 30450

  codelet_set:
    - device: 1
      config: ${JBPF_CODELETS}/mac/mac_stats.yaml 

    - device: 1
      config: ${JBPF_CODELETS}/pdcp/pdcp_stats.yaml 

    - device: 1
      config: ${JBPF_CODELETS}/rrc/rrc.yaml 

    - device: 1
      config: ${JBPF_CODELETS}/fapi_dl_conf/fapi_gnb_dl_config_stats.yaml

    - device: 1
      config: ${JBPF_CODELETS}/fapi_ul_conf/fapi_gnb_ul_config_stats.yaml

    - device: 1
      config: ${JBPF_CODELETS}/fapi_ul_crc/fapi_gnb_crc_stats.yaml

    - device: 1
      config: ${JBPF_CODELETS}/fapi_rach/fapi_gnb_rach_stats.yaml

    - device: 1
      config: ${JBPF_CODELETS}/perf/jbpf_stats.yaml

    # - device: 1
    #   config: ${JBPF_CODELETS}/xran_packets/xran_packets.yaml 
