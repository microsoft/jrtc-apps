# Copyright (c) Microsoft Corporation.
# Licensed under the MIT license.

codeletset_id: pdcp_detailed

codelet_descriptor:

  - codelet_name: pdcp_dl_new_sdu
    codelet_path: ${JBPF_CODELETS}/pdcp/pdcp_dl_new_sdu.o
    hook_name: pdcp_dl_new_sdu
    priority: 1
    out_io_channel:
      - name: pdcp_dl_new_sdu_output_map
        forward_destination: DestinationUDP
        serde:
          file_path: ${JBPF_CODELETS}/pdcp/pdcp_dl_new_sdu:pdcp_dl_new_sdu_serializer.so
          protobuf:
            package_path: ${JBPF_CODELETS}/pdcp/pdcp_dl_new_sdu.pb
            msg_name: pdcp_dl_new_sdu

  - codelet_name: pdcp_dl_delivery
    codelet_path: ${JBPF_CODELETS}/pdcp/pdcp_dl_delivery.o
    hook_name: pdcp_dl_handle_delivery_notification
    priority: 1
    out_io_channel:
      - name: pdcp_dl_delivery_output_map
        forward_destination: DestinationUDP
        serde:
          file_path: ${JBPF_CODELETS}/pdcp/pdcp_dl_delivery:pdcp_dl_delivery_serializer.so
          protobuf:
            package_path: ${JBPF_CODELETS}/pdcp/pdcp_dl_delivery.pb
            msg_name: pdcp_dl_delivery

  - codelet_name: pdcp_ul_delivery
    codelet_path: ${JBPF_CODELETS}/pdcp/pdcp_ul_delivery.o
    hook_name: pdcp_ul_deliver_sdu
    priority: 1
    out_io_channel:
      - name: pdcp_ul_delivery_output_map
        forward_destination: DestinationUDP
        serde:
          file_path: ${JBPF_CODELETS}/pdcp/pdcp_ul_delivery:pdcp_ul_delivery_serializer.so
          protobuf:
            package_path: ${JBPF_CODELETS}/pdcp/pdcp_ul_delivery.pb
            msg_name: pdcp_ul_delivery
